<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>IITB LCS Project Data Collection Portal</title>
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,500|Poppins:400,500,600,700|Roboto:400,500"
    rel="stylesheet" />
  <link href="https://cdn.materialdesignicons.com/4.4.95/css/materialdesignicons.min.css" rel="stylesheet" />
  <link href="assets/plugins/simplebar/simplebar.css" rel="stylesheet" />
  <link href="assets/plugins/nprogress/nprogress.css" rel="stylesheet" />
  <link href='assets/plugins/jvectormap/jquery-jvectormap-2.0.3.css' rel='stylesheet'>
  <link href='assets/plugins/daterangepicker/daterangepicker.css' rel='stylesheet'>
  <link href='assets/plugins/toastr/toastr.min.css' rel='stylesheet'>
  <link id="sleek-css" rel="stylesheet" href="assets/css/sleek.css" />
  <link href="assets/img/favicon.png" rel="shortcut icon" />
  <script src="assets/plugins/nprogress/nprogress.js"></script>
  <script src="assets/plugins/jquery/jquery.min.js"></script>
  <script src="assets/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src='assets/plugins/charts/Chart.min.js'></script>
  <script src='assets/js/chart.js'></script>
  <script src='assets/plugins/jvectormap/jquery-jvectormap-2.0.3.min.js'></script>
  <script src='assets/plugins/jvectormap/jquery-jvectormap-world-mill.js'></script>
  <script src='assets/js/vector-map.js'></script>
  <script src='assets/plugins/daterangepicker/moment.min.js'></script>
  <script src='assets/plugins/daterangepicker/daterangepicker.js'></script>
  <script src='assets/js/date-range.js'></script>
  <script src="assets/js/sleek.js"></script>
  <link href="assets/css/optionswitch.css" rel="stylesheet">
  <script src="assets/js/optionswitcher.js"></script>
  <script src="https://cdn.rawgit.com/harvesthq/chosen/gh-pages/chosen.jquery.min.js"></script>
  <link href="https://cdn.rawgit.com/harvesthq/chosen/gh-pages/chosen.min.css" rel="stylesheet" />
  <script src='https://cdn.plot.ly/plotly-2.27.0.min.js'></script>
</head>

<!-- <body class="sidebar-fixed sidebar-dark" id="body"> -->

<body class="sidebar-fixed sidebar-dark">
  <script>
    NProgress.configure({ showSpinner: false });
    NProgress.start();
  </script>
  <div class="wrapper">
    <aside class="left-sidebar bg-sidebar">
      <div data-include="sidebar"></div>
    </aside>


    <div class="page-wrapper">
      <div class="content-wrapper">
        <div class="content">
          <div class="row">
            <div class="col-12">
              <div class=" card card-default">
                <div class="card-body">
                  <form enctype="multipart/form-data" id="chartForm" class="form-group">
                    <label for="sensors">Choose sensors:</label>
                    <select data-placeholder="Select Sensors" multiple class="chosen-select" name="sensors" id="sensors">
                      <option value=""></option>
                      <option value="Grimm">Grimm OPC</option>
                      <option value="PurpleAir">Purple Air Flex II</option>
                      <option value="N3">Alphasense OPC N3</option>
                      <option value="Atmos">UrbanSciences Atmos</option>
                    </select>
                    <label for="start">FROM</label>
                    <input type="datetime-local" id="start" name="start">
                    <label for="end">TO</label>
                    <input type="datetime-local" id="end" name="end">
                    <!-- Add new radio button for pm2.5, pm10 and pm1.0 -->
                    <br/><label for="pm">PM: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                    <select data-placeholder="Select PM" multiple class="chosen-select" name="pm" id="pm">
                      <option value="pm2.5" selected>PM2.5</option>
                      <option value="pm10">PM10</option>
                      <option value="pm1">PM1.0</option>
                    </select><br/><br/>
                    <div class='text-center'><button type="button" id="submit_btn" value="Submit" class="btn btn-primary btn-sm text-center">SUBMIT</button></div>
                    <script>
                      $('#start').attr('value', new Date().toISOString().split('T')[0] + 'T00:00');
                      $('#end').attr('value', new Date().toISOString().split('T')[0] + 'T00:00')
                    </script>
                  </form>
                </div>
              </div>
              <div class="card card-default">
                <div class="card-header justify-content-center">
                  <h2 class="text-center">PM DATA</h2>
                </div>
                <div class="card card-default">
                  <div id="chartcontainer"></div>
                </div>
              </div>
            </div>
          </div>
        </div> <!-- End Content -->
      </div> <!-- End Content Wrapper -->
    </div> <!-- End Page Wrapper -->
  </div> <!-- End Wrapper -->
  <script>
    $(".chosen-select").chosen({ width: "40%" });
    $(".chosen-select").chosen({
      no_results_text: "Oops, nothing found!"
    })
  </script>
  <script type="module">
    import { chartData } from "/assets/js/charting.js"
    $('#submit_btn').click(function () {
      console.log('CLICKED')
      chartData($('#chartForm').serialize())
    })
  </script>
</body>

</html>